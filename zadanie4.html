<html>

    <!---<head>
        <link href="style2.css" rel="stylesheet" type="text/css">
    </head>-->

<body>
    <div class="editable" contenteditable="true">
        <ol id="ordered">
            <li class="orderedList" id='0' draggable="true">Pozycja 1</li>
            <li class="orderedList" id='1' draggable="true">Pozycja 2</li>
            <li class="orderedList" id='2' draggable="true">Pozycja 3</li>
            <li class="orderedList" id='3' draggable="true">Pozycja 4</li>
            <li class="orderedList" id='4' draggable="true">Pozycja 5</li>
        </ol>
    </div>

<script>

    let dropId;
    let orderedList;
    let selected;
    let id;
    let index;

  document.addEventListener("dragstart", ({target}) => {

      var ordered = document.getElementById('ordered');
      var elemnets = ordered.getElementsByTagName('li');
      var l = elemnets.length;
      let j=1;
      for(let newOrder of elemnets){
        newOrder.id = j++;
      }

      selected = target;
      id = target.id;
      orderedList = target.parentNode.children;
      for(let i = 0; i < orderedList.length; i += 1) {
      	if(orderedList[i] === selected){
          index = i;
        }
      }
  });

  document.addEventListener("dragover", (event) => {
      event.preventDefault();
  });

  document.addEventListener("drop", ({target}) => {
   if(target.className == "orderedList" && target.id !== id) {
       selected.remove( selected );
      for(let i = 0; i < orderedList.length; i += 1) {
      	if(orderedList[i] === target){
          dropId = i;
        }
      }
      console.log(index, dropId);
      if(index > dropId) {
      	target.before(selected);
      } else {
       target.after(selected);
      }
    }
  });
</script>


</body>
</html>